export declare const schema = "\n-- Users (with Authentication & Subscription)\nCREATE TABLE IF NOT EXISTS users (\n  id TEXT PRIMARY KEY,\n  email TEXT UNIQUE NOT NULL,\n  password_hash TEXT,\n  name TEXT NOT NULL,\n  avatar TEXT,\n  email_verified INTEGER DEFAULT 0,\n  verification_token TEXT,\n  verification_token_expires INTEGER,\n  reset_password_token TEXT,\n  reset_password_expires INTEGER,\n  google_id TEXT UNIQUE,\n  is_admin INTEGER DEFAULT 0,\n  subscription_status TEXT DEFAULT 'trial',\n  subscription_plan TEXT,\n  trial_ends_at INTEGER,\n  subscription_ends_at INTEGER,\n  stripe_customer_id TEXT,\n  stripe_subscription_id TEXT,\n  created_at INTEGER NOT NULL,\n  last_active INTEGER NOT NULL\n);\n\nCREATE INDEX IF NOT EXISTS idx_users_email ON users(email);\nCREATE INDEX IF NOT EXISTS idx_users_google_id ON users(google_id);\nCREATE INDEX IF NOT EXISTS idx_users_verification_token ON users(verification_token);\nCREATE INDEX IF NOT EXISTS idx_users_subscription_status ON users(subscription_status);\n\n-- Tenants (Profiles) - now linked to users\nCREATE TABLE IF NOT EXISTS tenants (\n  id TEXT PRIMARY KEY,\n  user_id TEXT NOT NULL,\n  name TEXT NOT NULL,\n  avatar TEXT,\n  created_at INTEGER NOT NULL,\n  last_active INTEGER NOT NULL,\n  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE\n);\n\nCREATE INDEX IF NOT EXISTS idx_tenants_user ON tenants(user_id);\nCREATE INDEX IF NOT EXISTS idx_tenants_last_active ON tenants(last_active);\n\n-- Players\nCREATE TABLE IF NOT EXISTS players (\n  id TEXT PRIMARY KEY,\n  tenant_id TEXT NOT NULL,\n  name TEXT NOT NULL,\n  avatar TEXT,\n  is_bot INTEGER DEFAULT 0,\n  bot_level INTEGER,\n  created_at INTEGER NOT NULL,\n  FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE\n);\n\nCREATE INDEX IF NOT EXISTS idx_players_tenant ON players(tenant_id);\n\n-- Player Stats\nCREATE TABLE IF NOT EXISTS player_stats (\n  player_id TEXT PRIMARY KEY,\n  games_played INTEGER DEFAULT 0,\n  games_won INTEGER DEFAULT 0,\n  total_legs_played INTEGER DEFAULT 0,\n  total_legs_won INTEGER DEFAULT 0,\n  highest_checkout INTEGER DEFAULT 0,\n  total_180s INTEGER DEFAULT 0,\n  total_171_plus INTEGER DEFAULT 0,\n  total_140_plus INTEGER DEFAULT 0,\n  total_100_plus INTEGER DEFAULT 0,\n  total_60_plus INTEGER DEFAULT 0,\n  best_average REAL DEFAULT 0,\n  average_overall REAL DEFAULT 0,\n  checkout_percentage REAL DEFAULT 0,\n  best_leg INTEGER DEFAULT 999,\n  nine_dart_finishes INTEGER DEFAULT 0,\n  FOREIGN KEY (player_id) REFERENCES players(id) ON DELETE CASCADE\n);\n\n-- Player Heatmap (aggregated dart throw data)\nCREATE TABLE IF NOT EXISTS heatmap_data (\n  player_id TEXT PRIMARY KEY,\n  segments TEXT NOT NULL, -- JSON object\n  total_darts INTEGER DEFAULT 0,\n  last_updated INTEGER NOT NULL,\n  FOREIGN KEY (player_id) REFERENCES players(id) ON DELETE CASCADE\n);\n\n-- Matches\nCREATE TABLE IF NOT EXISTS matches (\n  id TEXT PRIMARY KEY,\n  tenant_id TEXT NOT NULL,\n  game_type TEXT NOT NULL,\n  status TEXT NOT NULL,\n  winner TEXT,\n  started_at INTEGER NOT NULL,\n  completed_at INTEGER,\n  settings TEXT NOT NULL, -- JSON\n  FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE\n);\n\nCREATE INDEX IF NOT EXISTS idx_matches_tenant ON matches(tenant_id);\nCREATE INDEX IF NOT EXISTS idx_matches_started_at ON matches(started_at);\nCREATE INDEX IF NOT EXISTS idx_matches_status ON matches(status);\n\n-- Match Players\nCREATE TABLE IF NOT EXISTS match_players (\n  id TEXT PRIMARY KEY,\n  match_id TEXT NOT NULL,\n  player_id TEXT NOT NULL,\n  match_average REAL DEFAULT 0,\n  first9_average REAL DEFAULT 0,\n  highest_score INTEGER DEFAULT 0,\n  checkouts_hit INTEGER DEFAULT 0,\n  checkout_attempts INTEGER DEFAULT 0,\n  match_180s INTEGER DEFAULT 0,\n  match_171_plus INTEGER DEFAULT 0,\n  match_140_plus INTEGER DEFAULT 0,\n  match_100_plus INTEGER DEFAULT 0,\n  match_60_plus INTEGER DEFAULT 0,\n  darts_thrown INTEGER DEFAULT 0,\n  legs_won INTEGER DEFAULT 0,\n  sets_won INTEGER DEFAULT 0,\n  FOREIGN KEY (match_id) REFERENCES matches(id) ON DELETE CASCADE,\n  FOREIGN KEY (player_id) REFERENCES players(id) ON DELETE CASCADE\n);\n\nCREATE INDEX IF NOT EXISTS idx_match_players_match ON match_players(match_id);\nCREATE INDEX IF NOT EXISTS idx_match_players_player ON match_players(player_id);\n\n-- Legs\nCREATE TABLE IF NOT EXISTS legs (\n  id TEXT PRIMARY KEY,\n  match_id TEXT NOT NULL,\n  leg_number INTEGER NOT NULL,\n  winner TEXT,\n  started_at INTEGER NOT NULL,\n  completed_at INTEGER,\n  FOREIGN KEY (match_id) REFERENCES matches(id) ON DELETE CASCADE\n);\n\nCREATE INDEX IF NOT EXISTS idx_legs_match ON legs(match_id);\n\n-- Throws\nCREATE TABLE IF NOT EXISTS throws (\n  id TEXT PRIMARY KEY,\n  leg_id TEXT NOT NULL,\n  player_id TEXT NOT NULL,\n  darts TEXT NOT NULL, -- JSON array\n  score INTEGER NOT NULL,\n  remaining INTEGER NOT NULL,\n  timestamp INTEGER NOT NULL,\n  is_checkout_attempt INTEGER DEFAULT 0,\n  is_bust INTEGER DEFAULT 0,\n  visit_number INTEGER NOT NULL,\n  running_average REAL,\n  first9_average REAL,\n  FOREIGN KEY (leg_id) REFERENCES legs(id) ON DELETE CASCADE,\n  FOREIGN KEY (player_id) REFERENCES players(id) ON DELETE CASCADE\n);\n\nCREATE INDEX IF NOT EXISTS idx_throws_leg ON throws(leg_id);\nCREATE INDEX IF NOT EXISTS idx_throws_player ON throws(player_id);\n\n-- Heatmap Data\nCREATE TABLE IF NOT EXISTS heatmap_data (\n  player_id TEXT PRIMARY KEY,\n  segments TEXT NOT NULL, -- JSON object\n  total_darts INTEGER DEFAULT 0,\n  last_updated INTEGER NOT NULL,\n  FOREIGN KEY (player_id) REFERENCES players(id) ON DELETE CASCADE\n);\n\n-- Training Sessions\nCREATE TABLE IF NOT EXISTS training_sessions (\n  id TEXT PRIMARY KEY,\n  tenant_id TEXT NOT NULL,\n  player_id TEXT NOT NULL,\n  type TEXT NOT NULL,\n  started_at INTEGER NOT NULL,\n  completed_at INTEGER,\n  score INTEGER,\n  personal_best INTEGER DEFAULT 0,\n  total_darts INTEGER DEFAULT 0,\n  total_hits INTEGER DEFAULT 0,\n  total_attempts INTEGER DEFAULT 0,\n  hit_rate REAL,\n  average_score REAL,\n  highest_score INTEGER,\n  duration INTEGER,\n  settings TEXT, -- JSON\n  FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE,\n  FOREIGN KEY (player_id) REFERENCES players(id) ON DELETE CASCADE\n);\n\nCREATE INDEX IF NOT EXISTS idx_training_tenant ON training_sessions(tenant_id);\nCREATE INDEX IF NOT EXISTS idx_training_player ON training_sessions(player_id);\nCREATE INDEX IF NOT EXISTS idx_training_started_at ON training_sessions(started_at);\n\n-- Training Results\nCREATE TABLE IF NOT EXISTS training_results (\n  id TEXT PRIMARY KEY,\n  session_id TEXT NOT NULL,\n  target_segment INTEGER,\n  target_multiplier INTEGER,\n  darts_thrown TEXT NOT NULL, -- JSON array\n  hit INTEGER DEFAULT 0,\n  timestamp INTEGER NOT NULL,\n  score INTEGER,\n  FOREIGN KEY (session_id) REFERENCES training_sessions(id) ON DELETE CASCADE\n);\n\nCREATE INDEX IF NOT EXISTS idx_training_results_session ON training_results(session_id);\n\n-- Achievements\nCREATE TABLE IF NOT EXISTS achievements (\n  id TEXT PRIMARY KEY,\n  name TEXT NOT NULL UNIQUE,\n  description TEXT NOT NULL,\n  icon TEXT NOT NULL,\n  category TEXT NOT NULL,\n  points INTEGER NOT NULL,\n  rarity TEXT NOT NULL,\n  target INTEGER\n);\n\n-- Player Achievements\nCREATE TABLE IF NOT EXISTS player_achievements (\n  id TEXT PRIMARY KEY,\n  player_id TEXT NOT NULL,\n  achievement_id TEXT NOT NULL,\n  unlocked_at INTEGER NOT NULL,\n  progress REAL,\n  FOREIGN KEY (player_id) REFERENCES players(id) ON DELETE CASCADE,\n  FOREIGN KEY (achievement_id) REFERENCES achievements(id) ON DELETE CASCADE,\n  UNIQUE(player_id, achievement_id)\n);\n\nCREATE INDEX IF NOT EXISTS idx_player_achievements_player ON player_achievements(player_id);\nCREATE INDEX IF NOT EXISTS idx_player_achievements_achievement ON player_achievements(achievement_id);\n\n-- Personal Bests\nCREATE TABLE IF NOT EXISTS personal_bests (\n  player_id TEXT PRIMARY KEY,\n  data TEXT NOT NULL, -- JSON object with all personal best data\n  last_updated INTEGER NOT NULL,\n  FOREIGN KEY (player_id) REFERENCES players(id) ON DELETE CASCADE\n);\n\n-- User Settings\nCREATE TABLE IF NOT EXISTS user_settings (\n  tenant_id TEXT PRIMARY KEY,\n  theme TEXT DEFAULT 'dark',\n  language TEXT DEFAULT 'de',\n  sound_enabled INTEGER DEFAULT 1,\n  caller_voice TEXT DEFAULT 'john',\n  caller_language TEXT DEFAULT 'en',\n  auto_next_player INTEGER DEFAULT 1,\n  show_checkout_suggestions INTEGER DEFAULT 1,\n  enable_achievements_hints INTEGER DEFAULT 1,\n  updated_at INTEGER NOT NULL,\n  FOREIGN KEY (tenant_id) REFERENCES tenants(id) ON DELETE CASCADE\n);\n\n-- Bug Reports\nCREATE TABLE IF NOT EXISTS bug_reports (\n  id TEXT PRIMARY KEY,\n  user_id TEXT NOT NULL,\n  title TEXT NOT NULL,\n  description TEXT NOT NULL,\n  severity TEXT NOT NULL CHECK(severity IN ('low', 'medium', 'high', 'critical')),\n  category TEXT NOT NULL CHECK(category IN ('gameplay', 'ui', 'audio', 'performance', 'auth', 'data', 'other')),\n  status TEXT NOT NULL DEFAULT 'open' CHECK(status IN ('open', 'in_progress', 'resolved', 'closed')),\n  screenshot_url TEXT,\n  browser_info TEXT,\n  route TEXT,\n  admin_notes TEXT,\n  created_at INTEGER NOT NULL,\n  updated_at INTEGER NOT NULL,\n  resolved_at INTEGER,\n  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE\n);\n\nCREATE INDEX IF NOT EXISTS idx_bug_reports_user ON bug_reports(user_id);\nCREATE INDEX IF NOT EXISTS idx_bug_reports_status ON bug_reports(status);\nCREATE INDEX IF NOT EXISTS idx_bug_reports_severity ON bug_reports(severity);\nCREATE INDEX IF NOT EXISTS idx_bug_reports_created_at ON bug_reports(created_at);\n";
export declare const defaultAchievements: {
    id: string;
    name: string;
    description: string;
    icon: string;
    category: string;
    points: number;
    rarity: string;
    target: number;
}[];
//# sourceMappingURL=schema.d.ts.map